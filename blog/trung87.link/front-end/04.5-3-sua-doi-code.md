# Ứng dụng 3: Refactoring (Sửa đổi code)

```typescript
// 1. Định nghĩa cấu trúc ban đầu
interface UserProfile {
  fullName: string; // Giả sử sau này ta muốn đổi thành 'displayName'
  age: number;
}

const users: UserProfile[] = [
  { fullName: "Nguyen Van A", age: 25 },
  { fullName: "Tran Thi B", age: 30 }
];

// 2. Hàm sử dụng dữ liệu
function logUserInfo(user: UserProfile) {
  // TypeScript sẽ báo lỗi đỏ ở đây ngay lập tức nếu bạn đổi tên 'fullName' ở Interface
  console.log(`User: ${user.fullName}`);
}

/* KHI REFACTORING (SỬA ĐỔI):
  - Bước 1: Bạn đổi 'fullName' thành 'displayName' trong interface UserProfile.
  - Bước 2: TypeScript sẽ quét toàn bộ dự án và gạch chân đỏ tất cả những nơi 
            đang gọi '.fullName'.
  - Bước 3: Bạn chỉ cần nhấn F2 (Rename Symbol) trên VS Code, 
            tất cả các file liên quan sẽ được tự động đổi tên đồng bộ.
*/

// Sau khi đổi tên an toàn:
interface UserProfileUpdated {
  displayName: string; 
  age: number;
}

const updatedLog = (user: UserProfileUpdated) => {
  console.log(user.displayName); // Không bao giờ lo sót biến cũ gây crash app
};

```
