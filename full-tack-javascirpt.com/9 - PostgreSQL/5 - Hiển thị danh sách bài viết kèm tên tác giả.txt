# Ngá»¯ cáº£nh 5: Hiá»ƒn thá»‹ danh sÃ¡ch bÃ i viáº¿t kÃ¨m tÃªn tÃ¡c giáº£

ğŸ§  Model (Ã nghÄ©a dá»¯ liá»‡u & quan há»‡)
- Má»—i bÃ i viáº¿t thuá»™c vá» má»™t ngÆ°á»i dÃ¹ng â†’ quan há»‡ 1-nhiá»u: user - post.
- Äá»ƒ hiá»ƒn thá»‹ bÃ i viáº¿t kÃ¨m tÃªn tÃ¡c giáº£, cáº§n JOIN hai báº£ng:
  - Báº£ng `posts`: chá»©a tiÃªu Ä‘á», ná»™i dung, user_id
  - Báº£ng `users`: chá»©a thÃ´ng tin tÃ¡c giáº£

ğŸ› ï¸ Controller (SQL)

-- Táº¡o báº£ng users
CREATE TABLE users (
  id SERIAL PRIMARY KEY,
  name VARCHAR(100) NOT NULL,
  email VARCHAR(100) UNIQUE NOT NULL
);

-- Táº¡o báº£ng posts cÃ³ khÃ³a ngoáº¡i user_id
CREATE TABLE posts (
  id SERIAL PRIMARY KEY,
  title TEXT NOT NULL,
  content TEXT,
  user_id INTEGER REFERENCES users(id),
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- ThÃªm ngÆ°á»i dÃ¹ng
INSERT INTO users (name, email) VALUES ('Trung Äinh', 'trung@example.com');

-- ThÃªm bÃ i viáº¿t thuá»™c user_id = 1
INSERT INTO posts (title, content, user_id)
VALUES ('Giá»›i thiá»‡u PostgreSQL', 'Ná»™i dung chi tiáº¿t...', 1);

-- Truy váº¥n bÃ i viáº¿t kÃ¨m tÃªn tÃ¡c giáº£
SELECT
  posts.id,
  posts.title,
  users.name AS author,
  posts.created_at
FROM posts
JOIN users ON posts.user_id = users.id;

ğŸ“˜ Ghi chÃº:
- `JOIN`: káº¿t há»£p hai báº£ng theo Ä‘iá»u kiá»‡n (á»Ÿ Ä‘Ã¢y lÃ  `posts.user_id = users.id`)
- CÃ³ thá»ƒ thÃªm Ä‘iá»u kiá»‡n: `WHERE`, `ORDER BY`, `LIMIT`, ...
- `users.name AS author`: Ä‘á»•i tÃªn cá»™t hiá»ƒn thá»‹ (alias)

