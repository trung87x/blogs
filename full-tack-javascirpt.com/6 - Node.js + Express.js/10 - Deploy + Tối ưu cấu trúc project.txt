[Ngá»¯ cáº£nh #10] Deploy + Tá»‘i Æ°u cáº¥u trÃºc project (MVC)

ğŸ¯ Má»¥c tiÃªu:
- Cáº¥u trÃºc project dá»… má»Ÿ rá»™ng, chia lá»›p rÃµ rÃ ng
- CÃ³ thá»ƒ deploy lÃªn cÃ¡c ná»n táº£ng nhÆ° Render, Vercel
- Sá»­ dá»¥ng script `npm start`, `npm run dev`, `npm run build`

ğŸ“ Cáº¥u trÃºc tá»‘i Æ°u gá»£i Ã½:
backend-app/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ controllers/
â”‚   â”œâ”€â”€ models/
â”‚   â”œâ”€â”€ routes/
â”‚   â”œâ”€â”€ services/
â”‚   â”œâ”€â”€ middlewares/
â”‚   â”œâ”€â”€ config/
â”‚   â””â”€â”€ index.js           <-- app chÃ­nh
â”œâ”€â”€ .env
â”œâ”€â”€ package.json
â”œâ”€â”€ README.md
â””â”€â”€ server.js              <-- khá»Ÿi Ä‘á»™ng tá»« Ä‘Ã¢y

---------------------
ğŸ“„ server.js
---------------------
require('dotenv').config();
const app = require('./src');

const PORT = process.env.PORT || 3000;
app.listen(PORT, () => {
  console.log(`ğŸš€ Server cháº¡y táº¡i http://localhost:${PORT}`);
});

---------------------
ğŸ“„ src/index.js
---------------------
const express = require('express');
const app = express();
const userRoutes = require('./routes/user.route');
const errorHandler = require('./middlewares/error.middleware');

app.use(express.json());
app.use('/api/users', userRoutes);
app.use(errorHandler);

module.exports = app;

---------------------
ğŸ“„ package.json
---------------------
{
  "scripts": {
    "dev": "nodemon server.js",
    "start": "node server.js",
    "build": "echo 'No build step for backend Node.js'"
  }
}

---------------------
ğŸŒ HÆ°á»›ng dáº«n deploy:
---------------------

1. **Deploy trÃªn Render** (miá»…n phÃ­, Ä‘Æ¡n giáº£n)
- Táº¡o repo trÃªn GitHub
- Push code lÃªn repo Ä‘Ã³
- VÃ o https://render.com
- New Web Service â†’ chá»n repo
- Start Command: `npm start`
- Environment:
  - PORT: 10000 (Render tá»± gÃ¡n)
  - ThÃªm cÃ¡c biáº¿n tá»« `.env`

2. **Deploy trÃªn Vercel** (thÆ°á»ng dÃ¹ng cho frontend, cÃ³ thá»ƒ dÃ¹ng cho serverless API)
- DÃ¹ng cho app dáº¡ng serverless (Next.js, vercel serverless functions)
- KhÃ´ng phÃ¹ há»£p náº¿u báº¡n dÃ¹ng Express dáº¡ng truyá»n thá»‘ng

3. **Deploy ná»™i bá»™ / mÃ¡y chá»§ tháº­t**
- Sá»­ dá»¥ng `pm2` hoáº·c `docker` Ä‘á»ƒ cháº¡y
- CÃ³ thá»ƒ thÃªm reverse proxy báº±ng Nginx

---------------------
ğŸ“Œ Ghi chÃº:
---------------------
- Cáº¥u trÃºc rÃµ rÃ ng giÃºp báº£o trÃ¬ / má»Ÿ rá»™ng / tuyá»ƒn dev dá»… hÆ¡n
- TÃ¡ch `server.js` vÃ  `app/index.js` Ä‘á»ƒ dá»… test / deploy
- `npm start` lÃ  lá»‡nh tiÃªu chuáº©n khi deploy
