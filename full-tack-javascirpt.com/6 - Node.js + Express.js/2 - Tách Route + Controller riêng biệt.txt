[Ngá»¯ cáº£nh #2] TÃ¡ch Route + Controller riÃªng biá»‡t (MVC nÃ¢ng cáº¥p)

ðŸ“ Cáº¥u trÃºc thÆ° má»¥c:
backend-mvc/
â”œâ”€â”€ server.js
â”œâ”€â”€ routes/
â”‚   â””â”€â”€ user.route.js
â”œâ”€â”€ controllers/
â”‚   â””â”€â”€ user.controller.js

---------------------
ðŸ“„ server.js
---------------------
const express = require('express');
const app = express();
const userRoutes = require('./routes/user.route');

app.use(express.json());
app.use('/users', userRoutes);

const PORT = 3000;
app.listen(PORT, () => {
  console.log(`ðŸš€ Server cháº¡y táº¡i http://localhost:${PORT}`);
});

---------------------
ðŸ“„ routes/user.route.js
---------------------
const express = require('express');
const router = express.Router();
const userController = require('../controllers/user.controller');

router.get('/', userController.getAllUsers);
router.post('/', userController.createUser);

module.exports = router;

---------------------
ðŸ“„ controllers/user.controller.js
---------------------
let users = [];

exports.getAllUsers = (req, res) => {
  res.json(users);
};

exports.createUser = (req, res) => {
  const { name, email } = req.body;
  const newUser = { id: users.length + 1, name, email };
  users.push(newUser);
  res.status(201).json(newUser);
};

---------------------
ðŸ“Œ HÆ°á»›ng dáº«n test:
---------------------
1. CÃ i express náº¿u chÆ°a cÃ³:
   npm install express

2. Cháº¡y:
   node server.js

3. Gá»­i request báº±ng Postman hoáº·c curl:
   - GET  http://localhost:3000/users
   - POST http://localhost:3000/users
     Body (JSON):
     {
       "name": "Trung",
       "email": "trung@example.com"
     }
