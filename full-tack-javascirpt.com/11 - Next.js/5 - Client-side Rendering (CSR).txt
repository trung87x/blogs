ğŸ§  Model 5: Client-side Rendering (CSR) trong Next.js
-------------------------------------------------------
â€¢ Vai trÃ²: Render ná»™i dung Ä‘á»™ng trÃªn trÃ¬nh duyá»‡t sau khi trang Ä‘Ã£ táº£i.
â€¢ Controller:
  - DÃ¹ng `useEffect()` Ä‘á»ƒ fetch dá»¯ liá»‡u tá»« API sau khi component Ä‘Ã£ mount.
  - ThÆ°á»ng dÃ¹ng trong cÃ¡c trang cÃ³ dá»¯ liá»‡u phá»¥ thuá»™c ngÆ°á»i dÃ¹ng (tÃ¬m kiáº¿m, lá»c, báº£ng Ä‘iá»u khiá»ƒn...).

ğŸŒ Ngá»¯ cáº£nh #5: TÃ¬m kiáº¿m sáº£n pháº©m â€“ nháº­p tá»« khÃ³a, fetch káº¿t quáº£ phÃ­a client
---------------------------------------------------------------------------
â€¢ Má»¥c tiÃªu: Giao diá»‡n tÃ¬m kiáº¿m sáº£n pháº©m â€“ fetch dá»¯ liá»‡u client-side khi ngÆ°á»i dÃ¹ng nháº­p tá»« khÃ³a.
â€¢ Giáº£ láº­p API tÃ¬m kiáº¿m tá»« JSONPlaceholder: `https://jsonplaceholder.typicode.com/posts`

ğŸ“ Cáº¥u trÃºc thÆ° má»¥c:

app/
â””â”€â”€ search/
    â””â”€â”€ page.tsx

âœï¸ MÃ£ nguá»“n:

// app/search/page.tsx
'use client'

import { useState, useEffect } from 'react'

export default function SearchPage() {
  const [query, setQuery] = useState('')
  const [results, setResults] = useState([])

  useEffect(() => {
    if (query.length < 3) return setResults([])

    const timer = setTimeout(() => {
      fetch(`https://jsonplaceholder.typicode.com/posts`)
        .then(res => res.json())
        .then(data => {
          const filtered = data.filter((post: any) =>
            post.title.toLowerCase().includes(query.toLowerCase())
          )
          setResults(filtered.slice(0, 5))
        })
    }, 500) // debounce 500ms

    return () => clearTimeout(timer)
  }, [query])

  return (
    <main className="p-6">
      <h1 className="text-2xl font-bold">ğŸ” TÃ¬m kiáº¿m sáº£n pháº©m</h1>
      <input
        type="text"
        placeholder="Nháº­p tá»« khÃ³a..."
        value={query}
        onChange={e => setQuery(e.target.value)}
        className="mt-4 border p-2 rounded w-full"
      />

      <ul className="mt-6 list-disc pl-6">
        {results.map((post: any) => (
          <li key={post.id}>
            <strong>{post.title}</strong>
          </li>
        ))}
      </ul>
    </main>
  )
}

âœ… Káº¿t quáº£:
- Giao diá»‡n tÃ¬m kiáº¿m hoáº¡t Ä‘á»™ng tá»©c thÃ¬ sau khi ngÆ°á»i dÃ¹ng nháº­p tá»« khÃ³a.
- Táº¥t cáº£ xá»­ lÃ½ diá»…n ra á»Ÿ client â†’ khÃ´ng render trÃªn server.
- PhÃ¹ há»£p vá»›i dashboard, tÃ¬m kiáº¿m sáº£n pháº©m, lá»c theo category...

ğŸ¯ Ghi nhá»›:
- CSR dÃ¹ng khi dá»¯ liá»‡u phá»¥ thuá»™c hÃ nh Ä‘á»™ng ngÆ°á»i dÃ¹ng hoáº·c khÃ´ng cáº§n SEO.
- `useEffect()` + `fetch()` lÃ  cáº·p Ä‘Ã´i chÃ­nh cho client-side logic.
- ThÃªm `debounce` Ä‘á»ƒ trÃ¡nh gá»i API quÃ¡ nhiá»u khi gÃµ liÃªn tá»¥c.
